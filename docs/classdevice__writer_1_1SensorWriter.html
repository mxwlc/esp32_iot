<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32 MQTT IoT Communication: device_writer.SensorWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP32 MQTT IoT Communication
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classdevice__writer_1_1SensorWriter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdevice__writer_1_1SensorWriter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">device_writer.SensorWriter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class represensting a Sensor Object.  
 <a href="classdevice__writer_1_1SensorWriter.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for device_writer.SensorWriter:</div>
<div class="dyncontent">
<div class="center"><img src="classdevice__writer_1_1SensorWriter__inherit__graph.png" border="0" usemap="#adevice__writer_8SensorWriter_inherit__map" alt="Inheritance graph"/></div>
<map name="adevice__writer_8SensorWriter_inherit__map" id="adevice__writer_8SensorWriter_inherit__map">
<area shape="rect" title="Class represensting a Sensor Object." alt="" coords="5,79,203,104"/>
<area shape="rect" href="classdevice__writer_1_1Writer.html" title="Abstract Class containing basic functions for inserting JSON objects ito a database." alt="" coords="27,5,181,31"/>
<area shape="poly" title=" " alt="" coords="107,44,107,79,101,79,101,44"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for device_writer.SensorWriter:</div>
<div class="dyncontent">
<div class="center"><img src="classdevice__writer_1_1SensorWriter__coll__graph.png" border="0" usemap="#adevice__writer_8SensorWriter_coll__map" alt="Collaboration graph"/></div>
<map name="adevice__writer_8SensorWriter_coll__map" id="adevice__writer_8SensorWriter_coll__map">
<area shape="rect" title="Class represensting a Sensor Object." alt="" coords="5,79,203,104"/>
<area shape="rect" href="classdevice__writer_1_1Writer.html" title="Abstract Class containing basic functions for inserting JSON objects ito a database." alt="" coords="27,5,181,31"/>
<area shape="poly" title=" " alt="" coords="107,44,107,79,101,79,101,44"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93ca2d7d078cdc0da2cf680f2d47521a" id="r_a93ca2d7d078cdc0da2cf680f2d47521a"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__writer_1_1SensorWriter.html#a93ca2d7d078cdc0da2cf680f2d47521a">__init__</a> (self, str sensor_address, <a class="el" href="classdevice__writer_1_1DeviceWriter.html">DeviceWriter</a> device, str sensor_name, str sensor_description, str unit)</td></tr>
<tr class="memdesc:a93ca2d7d078cdc0da2cf680f2d47521a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the Sensor.  <br /></td></tr>
<tr class="separator:a93ca2d7d078cdc0da2cf680f2d47521a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1c21b696799388b39797be75a9e227" id="r_a2c1c21b696799388b39797be75a9e227"><td class="memItemLeft" align="right" valign="top"><a id="a2c1c21b696799388b39797be75a9e227" name="a2c1c21b696799388b39797be75a9e227"></a>
str&#160;</td><td class="memItemRight" valign="bottom"><b>address</b> (self)</td></tr>
<tr class="separator:a2c1c21b696799388b39797be75a9e227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0790ae1b2ce8f5441b0206e3758874cb" id="r_a0790ae1b2ce8f5441b0206e3758874cb"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__writer_1_1SensorWriter.html#a0790ae1b2ce8f5441b0206e3758874cb">sql_query</a> (self)</td></tr>
<tr class="memdesc:a0790ae1b2ce8f5441b0206e3758874cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns The Object encoded into an "INSERT" SQL statement.  <br /></td></tr>
<tr class="separator:a0790ae1b2ce8f5441b0206e3758874cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5bce27e907607ac36e3ed09fe01c7b" id="r_afe5bce27e907607ac36e3ed09fe01c7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdevice__writer_1_1ReadingsWriter.html">ReadingsWriter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__writer_1_1SensorWriter.html#afe5bce27e907607ac36e3ed09fe01c7b">create_readings</a> (self, float data_value)</td></tr>
<tr class="memdesc:afe5bce27e907607ac36e3ed09fe01c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a readings object.  <br /></td></tr>
<tr class="separator:afe5bce27e907607ac36e3ed09fe01c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdevice__writer_1_1Writer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdevice__writer_1_1Writer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdevice__writer_1_1Writer.html">device_writer.Writer</a></td></tr>
<tr class="memitem:ad651760bf2241ca5d07659c490e016d0 inherit pub_methods_classdevice__writer_1_1Writer" id="r_ad651760bf2241ca5d07659c490e016d0"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__writer_1_1Writer.html#ad651760bf2241ca5d07659c490e016d0">__str__</a> (self)</td></tr>
<tr class="memdesc:ad651760bf2241ca5d07659c490e016d0 inherit pub_methods_classdevice__writer_1_1Writer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an SQL insert query as a str.  <br /></td></tr>
<tr class="separator:ad651760bf2241ca5d07659c490e016d0 inherit pub_methods_classdevice__writer_1_1Writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c764b276cd7184fdc715913de5d035c inherit pub_methods_classdevice__writer_1_1Writer" id="r_a7c764b276cd7184fdc715913de5d035c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdevice__writer_1_1Writer.html#a7c764b276cd7184fdc715913de5d035c">insert</a> (self, sqlite3.Connection db_connection)</td></tr>
<tr class="memdesc:a7c764b276cd7184fdc715913de5d035c inherit pub_methods_classdevice__writer_1_1Writer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts the object into the provided database.  <br /></td></tr>
<tr class="separator:a7c764b276cd7184fdc715913de5d035c inherit pub_methods_classdevice__writer_1_1Writer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:adf787caea47ee8c5200334fb32133358" id="r_adf787caea47ee8c5200334fb32133358"><td class="memItemLeft" align="right" valign="top"><a id="adf787caea47ee8c5200334fb32133358" name="adf787caea47ee8c5200334fb32133358"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_sensor_address</b></td></tr>
<tr class="memdesc:adf787caea47ee8c5200334fb32133358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of the sensor connected to a device. <br /></td></tr>
<tr class="separator:adf787caea47ee8c5200334fb32133358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0638139f65d43dcb29c2638dc9350b" id="r_a2a0638139f65d43dcb29c2638dc9350b"><td class="memItemLeft" align="right" valign="top"><a id="a2a0638139f65d43dcb29c2638dc9350b" name="a2a0638139f65d43dcb29c2638dc9350b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_device</b></td></tr>
<tr class="memdesc:a2a0638139f65d43dcb29c2638dc9350b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device object that the sensor is connected to. <br /></td></tr>
<tr class="separator:a2a0638139f65d43dcb29c2638dc9350b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fe2ab59c13bd43bd5f81f211d488fc" id="r_a08fe2ab59c13bd43bd5f81f211d488fc"><td class="memItemLeft" align="right" valign="top"><a id="a08fe2ab59c13bd43bd5f81f211d488fc" name="a08fe2ab59c13bd43bd5f81f211d488fc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_sensor_name</b></td></tr>
<tr class="memdesc:a08fe2ab59c13bd43bd5f81f211d488fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sensor name to identify object. <br /></td></tr>
<tr class="separator:a08fe2ab59c13bd43bd5f81f211d488fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee2d7d32169bbbd1a3397afa77ba01b" id="r_acee2d7d32169bbbd1a3397afa77ba01b"><td class="memItemLeft" align="right" valign="top"><a id="acee2d7d32169bbbd1a3397afa77ba01b" name="acee2d7d32169bbbd1a3397afa77ba01b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_sensor_description</b></td></tr>
<tr class="memdesc:acee2d7d32169bbbd1a3397afa77ba01b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Brief description of sensor. <br /></td></tr>
<tr class="separator:acee2d7d32169bbbd1a3397afa77ba01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaafa1e0c79e7a0abfe52226fdcaac842" id="r_aaafa1e0c79e7a0abfe52226fdcaac842"><td class="memItemLeft" align="right" valign="top"><a id="aaafa1e0c79e7a0abfe52226fdcaac842" name="aaafa1e0c79e7a0abfe52226fdcaac842"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_unit</b></td></tr>
<tr class="memdesc:aaafa1e0c79e7a0abfe52226fdcaac842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unit of readings. <br /></td></tr>
<tr class="separator:aaafa1e0c79e7a0abfe52226fdcaac842"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class represensting a Sensor Object. </p>
<p>Used to update the database as well as creating readings objects that keeps track of the MAC Address of the device the sensor is attached to aswell as the individual Sensor Address.</p>
<pre class="fragment">Class represensting a Sensor Object used to update the DB and to create readings objects</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a93ca2d7d078cdc0da2cf680f2d47521a" name="a93ca2d7d078cdc0da2cf680f2d47521a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ca2d7d078cdc0da2cf680f2d47521a">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None device_writer.SensorWriter.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>sensor_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdevice__writer_1_1DeviceWriter.html">DeviceWriter</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>sensor_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>sensor_description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the Sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor_address</td><td>Address of the sensor connected to a device </td></tr>
    <tr><td class="paramname">device</td><td>Device object that the sensor is connected to </td></tr>
    <tr><td class="paramname">sensor_name</td><td>Sensor name to identify object </td></tr>
    <tr><td class="paramname">sensor_description</td><td>Brief description of sensor </td></tr>
    <tr><td class="paramname">unit</td><td>Unit of readings</td></tr>
  </table>
  </dd>
</dl>
<pre class="fragment">Constructor for the Sensor</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afe5bce27e907607ac36e3ed09fe01c7b" name="afe5bce27e907607ac36e3ed09fe01c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe5bce27e907607ac36e3ed09fe01c7b">&#9670;&#160;</a></span>create_readings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classdevice__writer_1_1ReadingsWriter.html">ReadingsWriter</a> device_writer.SensorWriter.create_readings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>data_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a readings object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_value</td><td>Data value recieved </td></tr>
    <tr><td class="paramname">type</td><td>data_value float </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns readings Object</dd></dl>
<pre class="fragment">Creates a readings object

:param data_value: Data value recieved
:type data_value: float
@return Returns 
</pre> 
</div>
</div>
<a id="a0790ae1b2ce8f5441b0206e3758874cb" name="a0790ae1b2ce8f5441b0206e3758874cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0790ae1b2ce8f5441b0206e3758874cb">&#9670;&#160;</a></span>sql_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str device_writer.SensorWriter.sql_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns The Object encoded into an "INSERT" SQL statement. </p>
<dl class="section return"><dt>Returns</dt><dd>INSERT Statement</dd></dl>
<pre class="fragment">Returns The Object encoded into an "INSERT" SQL statement</pre> 
<p>Reimplemented from <a class="el" href="classdevice__writer_1_1Writer.html#a90e6e6d1219695abb9d0c39867977b87">device_writer.Writer</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>server/<a class="el" href="device__writer_8py.html">device_writer.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedevice__writer.html">device_writer</a></li><li class="navelem"><a class="el" href="classdevice__writer_1_1SensorWriter.html">SensorWriter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
